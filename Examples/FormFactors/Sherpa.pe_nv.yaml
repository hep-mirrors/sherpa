EVENT_GENERATION_MODE: 'Unweighted'  
ANALYSIS: Rivet

OUTPUT: 4  # More verbose output
EVENTS: 1 #00k


#NOTE THIS DOESNT WORK FOR THE REVERSE PROCESS YET


BEAMS:  [2212, 11]  # proton beam + electron beam 
BEAM_ENERGIES: [0.938272, 1]  # proton at rest, 1 GeV electron
BEAM_MODE: Fixed_Target
BEAM_SPECTRA: [Fixed_Target, Monochromatic]  # proton=fixed target, electron=beam

PARTICLE_DATA:
  2212:  # proton
    Massive: 1
  11:  # electron
    Massive: 1
  2112:  # neutron
    Massive: 1
  12:  # electron neutrino
    Massive: 0

PROCESSES:
- 2212 11 -> 2112 12:  # p[0] e-[1] -> n[2] v[3] 
    Order: {QCD: 0, EW: 2} 
    Print_Graphs: Graphs # can draw Feynman diagrams by running ./plot_graphs Graphs

# Form factor parameters (boson and nucleon type auto-detected from process)
Form_Factor:
  # Model: Off # lots of weird cutoffs?
  Model: Kelly # smooths out momentum cutoffs! 
  # Model: Dipole

FRAGMENTATION: None
BEAM_REMNANTS: None
SHOWER_GENERATOR: None
ISR_HANDLER: None  # Disable ISR for elastic scattering (should be handled by pdfs)

PDF_SET: [FormFactor, None]  # proton: special, electron: None

ME_GENERATORS: Internal 

EW_SCHEME: 1
MODEL: SM  # Standard Model

# wrong scale here will cause errors in alpha_s and negative (or at least tiny) Q2, but doesnt change output
SCALES: VAR{-Abs2(p[2]-p[1])}  # Q2 = momentum transfer squared but sherpa reorders nv to vn

# Phase space integration settings
INTEGRATION:
  FINISH_OPTIMIZATION: Off  # Disable adaptive optimization that might bias phi

SELECTORS:
- [Q2, 11, 12, 0.001, 3] #[observable, flavor1, flavor2, min, max]  

NANOBARN: 0
YFS:
  MODE: 0
ME_QED: 
  ENABLED: false

ANALYSIS: Rivet
ANALYSIS_OUTPUT: Analysis_pe-nv

# Rivet analyses - need to specify the plugin path for custom analyses
RIVET:
  --analyses: [MC_XS, MC_FSPARTICLES] 
  #--pwd: /Users/.../MyRivetAnalyses


